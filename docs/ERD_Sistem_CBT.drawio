<mxfile host="app.diagrams.net" modified="2025-11-04T00:00:00.000Z" agent="Mozilla/5.0" etag="random" version="24.0.0" type="device">
  <diagram name="CBT System ERD" id="erd-cbt-system">
    <mxGraphModel dx="1200" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- User Table -->
        <mxCell id="user-table" value="User" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F4F8;strokeColor=#0E7490;strokeWidth=2;fontSize=14;fontStyle=bold;align=center;" vertex="1" parent="1">
          <mxGeometry x="50" y="150" width="200" height="280" as="geometry" />
        </mxCell>
        <mxCell id="user-fields" value="PK&#10;├─ id&#10;├─ name&#10;├─ email&#10;├─ password&#10;├─ gender&#10;├─ birthDate&#10;├─ birthPlace&#10;├─ role&#10;├─ createdAt&#10;└─ updatedAt" style="text;html=1;align=left;verticalAlign=top;fontSize=11;fontFamily=monospace;" vertex="1" parent="1">
          <mxGeometry x="60" y="170" width="180" height="250" as="geometry" />
        </mxCell>
        
        <!-- Exam Table -->
        <mxCell id="exam-table" value="Exam" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F0E8F8;strokeColor=#6F42C1;strokeWidth=2;fontSize=14;fontStyle=bold;align=center;" vertex="1" parent="1">
          <mxGeometry x="450" y="150" width="220" height="280" as="geometry" />
        </mxCell>
        <mxCell id="exam-fields" value="PK&#10;├─ id&#10;├─ title&#10;├─ subject&#10;├─ description&#10;├─ duration&#10;├─ totalQuestions&#10;├─ passingScore&#10;├─ isActive&#10;├─ startDate&#10;├─ endDate&#10;├─ createdAt&#10;└─ updatedAt" style="text;html=1;align=left;verticalAlign=top;fontSize=11;fontFamily=monospace;" vertex="1" parent="1">
          <mxGeometry x="460" y="170" width="200" height="250" as="geometry" />
        </mxCell>
        
        <!-- Question Table -->
        <mxCell id="question-table" value="Question" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F8F0;strokeColor=#0B7285;strokeWidth=2;fontSize=14;fontStyle=bold;align=center;" vertex="1" parent="1">
          <mxGeometry x="850" y="150" width="220" height="240" as="geometry" />
        </mxCell>
        <mxCell id="question-fields" value="PK&#10;├─ id&#10;├─ examId [FK]&#10;├─ questionText&#10;├─ optionA&#10;├─ optionB&#10;├─ optionC&#10;├─ optionD&#10;├─ correctAnswer&#10;├─ createdAt&#10;└─ updatedAt" style="text;html=1;align=left;verticalAlign=top;fontSize=11;fontFamily=monospace;" vertex="1" parent="1">
          <mxGeometry x="860" y="170" width="200" height="210" as="geometry" />
        </mxCell>
        
        <!-- ExamResult Table -->
        <mxCell id="examresult-table" value="ExamResult" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8F0E8;strokeColor=#C9590D;strokeWidth=2;fontSize=14;fontStyle=bold;align=center;" vertex="1" parent="1">
          <mxGeometry x="250" y="550" width="240" height="280" as="geometry" />
        </mxCell>
        <mxCell id="examresult-fields" value="PK&#10;├─ id&#10;├─ userId [FK]&#10;├─ examId [FK]&#10;├─ score&#10;├─ totalQuestions&#10;├─ correctAnswers&#10;├─ startTime&#10;├─ endTime&#10;├─ isCompleted&#10;├─ questionOrder&#10;├─ createdAt&#10;└─ updatedAt&#10;UNIQUE: (userId, examId)" style="text;html=1;align=left;verticalAlign=top;fontSize=11;fontFamily=monospace;" vertex="1" parent="1">
          <mxGeometry x="260" y="570" width="220" height="250" as="geometry" />
        </mxCell>
        
        <!-- Answer Table -->
        <mxCell id="answer-table" value="Answer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8E8F0;strokeColor=#A61E4D;strokeWidth=2;fontSize=14;fontStyle=bold;align=center;" vertex="1" parent="1">
          <mxGeometry x="700" y="550" width="240" height="240" as="geometry" />
        </mxCell>
        <mxCell id="answer-fields" value="PK&#10;├─ id&#10;├─ examResultId [FK]&#10;├─ questionId [FK]&#10;├─ selectedAnswer&#10;├─ isCorrect&#10;├─ createdAt&#10;UNIQUE: (examResultId, questionId)" style="text;html=1;align=left;verticalAlign=top;fontSize=11;fontFamily=monospace;" vertex="1" parent="1">
          <mxGeometry x="710" y="570" width="220" height="210" as="geometry" />
        </mxCell>
        
        <!-- Relationships -->
        <!-- User to ExamResult (1:N) -->
        <mxCell id="user-examresult-rel" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=0;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="user-table" target="examresult-table">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="150" y="430" as="sourcePoint" />
            <mxPoint x="370" y="550" as="targetPoint" />
            <Array as="points">
              <mxPoint x="150" y="490" />
              <mxPoint x="370" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="user-examresult-label" value="1:N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=bold;" vertex="1" connectable="0" parent="user-examresult-rel">
          <mxGeometry x="200" y="460" as="geometry" />
        </mxCell>
        
        <!-- Exam to Question (1:N) -->
        <mxCell id="exam-question-rel" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=0;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="exam-table" target="question-table">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="670" y="290" as="sourcePoint" />
            <mxPoint x="850" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="exam-question-label" value="1:N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=bold;" vertex="1" connectable="0" parent="exam-question-rel">
          <mxGeometry x="750" y="270" as="geometry" />
        </mxCell>
        
        <!-- Exam to ExamResult (1:N) -->
        <mxCell id="exam-examresult-rel" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=0;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="exam-table" target="examresult-table">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="560" y="430" as="sourcePoint" />
            <mxPoint x="450" y="550" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="490" />
              <mxPoint x="450" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="exam-examresult-label" value="1:N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=bold;" vertex="1" connectable="0" parent="exam-examresult-rel">
          <mxGeometry x="500" y="460" as="geometry" />
        </mxCell>
        
        <!-- ExamResult to Answer (1:N) -->
        <mxCell id="examresult-answer-rel" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=0;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="examresult-table" target="answer-table">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="690" as="sourcePoint" />
            <mxPoint x="700" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="examresult-answer-label" value="1:N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=bold;" vertex="1" connectable="0" parent="examresult-answer-rel">
          <mxGeometry x="590" y="670" as="geometry" />
        </mxCell>
        
        <!-- Question to Answer (1:N) -->
        <mxCell id="question-answer-rel" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=0;strokeWidth=2;strokeColor=#333333;" edge="1" parent="1" source="question-table" target="answer-table">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="960" y="390" as="sourcePoint" />
            <mxPoint x="820" y="550" as="targetPoint" />
            <Array as="points">
              <mxPoint x="960" y="470" />
              <mxPoint x="820" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="question-answer-label" value="1:N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=bold;" vertex="1" connectable="0" parent="question-answer-rel">
          <mxGeometry x="880" y="440" as="geometry" />
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend-title" value="Legend" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];fontSize=13;fontStyle=bold;" vertex="1" parent="1">
          <mxGeometry x="50" y="30" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-pk" value="PK = Primary Key" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="50" y="60" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-fk" value="FK = Foreign Key" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="50" y="80" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-rel" value="1:N = One to Many" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="200" y="60" width="150" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>